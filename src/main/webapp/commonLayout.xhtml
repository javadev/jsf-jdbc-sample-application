<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>
        <title></title>
        <link href="./Site.css" rel="stylesheet" type="text/css" />
    </h:head>
    <h:body>
        <script>
        //<![CDATA[
        function NumberOnly() 
        {
            var AsciiValue = event.keyCode
            if ((AsciiValue >= 48 && AsciiValue <= 57) || (AsciiValue == 8 || AsciiValue == 127))
            event.returnValue = true;
            else
            event.returnValue = false;
        }
        //]]>
    </script>        
            <div class="page">
                <div class="header">
                    <div class="title">
                        <img src="./Images/header.jpg" />
                        <div class="menu" id="NavigationMenu">
                            <ul role="menubar" style="position: relative; width: auto; float: left;" tabindex="0" class="level1 static">                            
                                <li style="position: relative; float: left;" class="static" role="menuitem">
                                    <a tabindex="-1" class="level1 static" href="index.xhtml">Home</a>
                                </li>
                                <li style="position: relative; float: left;display:#{(not empty loginBean.userID ? '' : 'none')}" class="static" role="menuitem">
                                    <a tabindex="-1" class="level1 static" href="accountdetails.xhtml?accountnum=#{loginBean.userID}">My Account</a>
                                </li>
                                <li style="position: relative; float: left;" class="static" role="menuitem">
                                    <a tabindex="-1" class="level1 static" href="about.xhtml">About us</a>
                                </li>
                                <li style="position: relative; float: left;" class="static" role="menuitem">
                                    <a tabindex="-1" class="level1 static" href="ask.xhtml">Ask a question</a>
                                </li>
                                <li style="position: relative; float: left;" class="static" role="menuitem">
                                    <a tabindex="-1" class="level1 static" href="index.xhtml">Contact us</a>
                                </li>
                                <li style="position: relative; float: left;" class="static" role="menuitem">
                                    <a tabindex="-1" class="level1 static" href="index.xhtml">Careers</a>
                                </li>
                            </ul>
                        </div>
                    </div>  
                    <h:form>
                        <div class="searchfield">                        
                            <h:inputText id="txtSearch" style="width:300px" value="#{searcherBean.userSearch}"></h:inputText>&nbsp;&nbsp;
                            <h:commandButton id="submit" class="searchButton" value="Search"
                                     action="#{searcherBean.redirectToSearch}"/>
                        </div>              
                        <div class="loginDisplay">
                            Welcome <h:outputText value="#{loginBean.friendlyName}" class="bold" id="lblUsername"></h:outputText>!&nbsp;&nbsp;&nbsp;
                            <h:commandLink id="btnLogout" rendered="#{not empty loginBean.userID}" action="#{loginBean.doLogout}">[ Log out ]</h:commandLink>
                        </div>  
                    </h:form>
                </div>
                <div class="pageframe">
                    <div class="customerlogin">
                        <fieldset class="login">                            
                            <h:panelGroup rendered="#{not empty loginBean.userID}" class="loginpanel" id="divLoggedInPanel" >
                                <h:form>
                                    <h2>Main Menu</h2>
                                    <br /><br />
                                    <a id="lnkMyAccount" href="accountdetails.xhtml?accountnum=#{loginBean.userID}">My account</a><br /><br />
                                    <a id="lnkPreferences" href="./index.xhtml">Change preferences</a><br /><br />
                                    <a id="lnkContact" href="./index.xhtml">Contact banker</a><br /><br />
                                    <a id="lnkChangePass" href="./index.xhtml">Change password</a><br /><br />
                                    <h:commandLink id="btnLogout" rendered="#{not empty loginBean.userID}" action="#{loginBean.doLogout}">Log out</h:commandLink>
                                    <br /><br />
                                    <br /><br />
                                    <br /><br />
                                </h:form>
                            </h:panelGroup>
                            <h:panelGroup rendered="#{empty loginBean.userID}" class="loginpanel" id="divLoginPanel" >
                                <h:form>
                                    <h2>Customers Login</h2>
                                    <br /><br />
                                    <p>                            
                                        Account number:<br/>
                                        <h:inputText id="txtUser" class="textEntry" value="#{loginBean.username}" label="Account number">
                                            <f:validateRequired></f:validateRequired>
                                        </h:inputText>         
                                        <h:message for="txtUser" class="errorField" />
                                    </p>
                                    <p>
                                        Password:                                    
                                        <h:inputSecret id="txtPass"  class="passwordEntry" value="#{loginBean.password}" label="Password:">
                                            <f:validateRequired ></f:validateRequired>
                                        </h:inputSecret>                                    
                                        <h:message for="txtPass" class="errorField" /><br />
                                        <a style="font-size:0.8em">Forgot my password</a>
                                    </p>                    
                                    <p>
                                        <h:outputText class="failureNotification" value="#{loginBean.error}"></h:outputText>
                                    </p>        
                                    <p class="submitButton">                                
                                        <h:commandLink id="LoginButton" class="loginButton" action="index">Login</h:commandLink>
                                    </p>
                                </h:form>
                            </h:panelGroup>                                                
                        </fieldset>                
                    </div>
                    <div class="main" id="content">
                        <ui:insert name="content" >                            
                        </ui:insert>
                    </div>                    
                    <div class="clear">                    
                    </div>        
                    <div class="footer">
                        <img style="width:100%; height:60px" src="./Images/footer.jpg" />
                    </div>
                </div>
            </div>        
    </h:body>
</html>

